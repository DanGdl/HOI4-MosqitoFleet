technologies = {

	fleet_in_being = {
		doctrine_name = "TITLE_FLEET_IN_BEING"

		#Fleet in being is mainly focused on Battleships (and Battlecrusiers/Heavy cruisers) and ASW with carriers and submarines being used to a lesser extent. The fleet may not have to do anything at all to be useful - simply having a powerful fleet in a protected port forces your enemies to keep a fleet of their own nearby in order you fight you if you emerge
		#Bonus org for BB/BC/CA


		# EFFECT #############
		battleship = {
			max_organisation = 10
		}
		battle_cruiser = {
			max_organisation = 10
		}
		heavy_cruiser = {
			max_organisation = 10
		}
		light_cruiser = {
			surface_detection = 0.10
		}
		destroyer = {
			surface_detection = 0.10
		}
		mdg_auxiliary = {
			surface_detection = 0.10
		}
		mdg_frigate = {
			surface_detection = 0.10
		}
		mdg_corvette = {
			surface_detection = 0.10
		}
		mdg_boat = {
			surface_detection = 0.10
		}
		mdg_hydrofoil = {
			surface_detection = 0.10
		}
		mines_planting_by_fleets_factor = 0.1
		#####

		xor = { trade_interdiction base_strike small_fleet }

		path = {
			leads_to_tech = battlefleet_concentration
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = convoy_sailing
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = submarine_operations
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 0 }
		}

		ai_will_do = {
			factor = 2
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			cruiser = 1.0
		}
	}

	battlefleet_concentration = {
		# EFFECT #############
		battleship = {
			max_organisation = 10
		}
		battle_cruiser = {
			max_organisation = 10
		}
		heavy_cruiser = {
			max_organisation = 10
		}
		strike_force_movement_org_loss = -0.2
		########

		path = {
			leads_to_tech = subsidiary_carrier_role
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 2 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			cruiser = 1.5
		}
	}

	subsidiary_carrier_role = {
		#Carriers support the Battleships

		# EFFECT #############
		carrier = {
			max_organisation = 10
		}
		sortie_efficiency = 0.1
		########

		path = {
			leads_to_tech = hunter_killer_groups
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 4 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			carrier = 1.5
			naval_air = 0.75
		}
	}

	hunter_killer_groups = {
		#Groups of Destroyers (and CVEs should those ever be added) formed to hunt down enemy subs

		# EFFECT #############
		mdg_boat = {
			max_organisation = 20
		}
		mdg_hydrofoil = {
			max_organisation = 20
		}
		mdg_corvette = {
			max_organisation = 20
			sub_detection = 0.15
		}
		mdg_frigate = {
			max_organisation = 20
			sub_detection = 0.1
		}
		mdg_auxiliary = {
			max_organisation = 20
		}
		destroyer = {
			max_organisation = 20
			sub_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.2
		}

		convoy_escort_efficiency = 0.05
		########

		path = {
			leads_to_tech = floating_fortress
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = GER
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.5
			cruiser = 1.0
		}
	}

	floating_fortress = {
		#Large, powerful gun armed ships are clearly the best ships

		# EFFECT #############
		battleship = {
			max_organisation = 20
		}

		navy_capital_ship_defence_factor = 0.10

		########

		path = {
			leads_to_tech = floating_airfield
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 2.0
		}
	}

	floating_airfield = {
		#Non base strike trees get a late CV booster

		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.2
		########

		path = {
			leads_to_tech = grand_battlefleet
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -1 y = 10 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	grand_battlefleet = {
		#Top tech for the Battlefleet tree.

		# EFFECT #############
		battleship = {
			max_organisation = 20
		}

		battle_cruiser = {
			max_organisation = 20
		}

		heavy_cruiser = {
			max_organisation = 20
		}

		navy_anti_air_attack_factor = 0.10
		navy_capital_ship_attack_factor = 0.1
		mines_planting_by_fleets_factor = 0.1

		path = {
			leads_to_tech = new_doctrine
			research_cost_coeff = 0.5
		}
		
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
				}
				set_technology = {
					new_doctrine = 1
				}
			}
		}
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -1 y = 12 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 2.0
		}
	}

	convoy_sailing = {
		#Convoy escort/ ASW branch

		# EFFECT #############
		mdg_boat = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		convoy_escort_efficiency = 0.05
		#####

		path = {
			leads_to_tech = convoy_escorts
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 2 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.0
		}
	}

	convoy_escorts = {
		#Assigning dedicated convoy escorts to keep them safe

		# EFFECT #############
		mdg_boat = {
			max_organisation = 10
		}
		mdg_hydrofoil = {
			max_organisation = 10
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		convoy_escort_efficiency = 0.1
		#####

		path = {
			leads_to_tech = escort_carriers
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 4 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.5
			naval_equipment = 1.0
		}
	}

	escort_carriers = {
		#Small carriers/converted merchant ships sail with convoys for increased defense against subs and raiders

		# EFFECT #############
		carrier = {
			sub_detection = 0.25
		}
		convoy_escort_efficiency = 0.15
		####

		path = {
			leads_to_tech = integrated_convoy_defence
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 6 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.5
		}
	}

	integrated_convoy_defence = {
		#The top convoy tech, basically now all the earlier concepts are working well with each other for maximum effect

		# EFFECT #############
		mdg_corvette = {
			max_organisation = 20
			sub_detection = 0.1
		}
		mdg_frigate = {
			max_organisation = 20
			sub_detection = 0.1
		}
		mdg_auxiliary = {
			max_organisation = 20
		}
		destroyer = {
			max_organisation = 20
			sub_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.15
		}
		carrier = {
			sub_detection = 0.25
		}
		convoy_escort_efficiency = 0.10
		#####

		path = {
			leads_to_tech = floating_airfield
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 8 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = ENG
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.0
		}
	}

	submarine_operations = {
		# Basic sub-boosting tree, not as good as Trade Interdiction's

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.05
		#######

		path = {
			leads_to_tech = undersea_blockade
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 2 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	undersea_blockade = {
		# Sub boost

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######


		path = {
			leads_to_tech = convoy_interdiction
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 4 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	convoy_interdiction = {
		# Sub boost
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.10
		#######

		path = {
			leads_to_tech = submarine_offensive
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	submarine_offensive = {
		# Sub boost
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.1
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.1
		}
		#######

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction = {
		doctrine_name = "TITLE_TRADE_INTERDICTION"

		# This tree is focused on sinking convoys, and boosting Subs and all types of Cruiser. It has some boosts for CVs and Battleships, but the CVs should be a bit worse and the BBs a lot worse than Fleet in being's.

		xp_research_type = navy

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_auxiliary = {
			max_organisation = 10
			surface_detection = 0.05
		}
		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.05
		}

		heavy_cruiser = {
			max_organisation = 10
			surface_detection = 0.05
		}
		#######

		xor = { fleet_in_being base_strike small_fleet }

		path = {
			leads_to_tech = convoy_interdiction_ti
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = raider_patrols
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = carrier_operations
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 0 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = GER
				factor = 3
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 1.0
			cruiser = 1.0
		}
	}

	convoy_interdiction_ti = {

		# same as convoy interdiction
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.10
		#######

		path = {
			leads_to_tech = unrestricted_submarine_warfare
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 2 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = GER
				factor = 3
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	unrestricted_submarine_warfare = {
		#Nice bonus for subs vs convoys

		# EFFECT ##############
		submarine = {
			surface_detection = 0.1
			convoy_raiding_coordination = 0.05
		}
		mdg_midget_submarine = {
			surface_detection = 0.1
			convoy_raiding_coordination = 0.05
		}
		navy_submarine_attack_factor = 0.1
		#######

		path = {
			leads_to_tech = wolfpacks
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 4 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = GER
				factor = 3
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	wolfpacks = {
		# More sub bonuses - subs operate in groups to sink convoys

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}
		mdg_midget_submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}
		naval_torpedo_reveal_chance_factor = -0.10
		#######

		path = {
			leads_to_tech = advanced_submarine_warfare
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 6 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = GER
				factor = 3
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	advanced_submarine_warfare = {
		# More sub bonuses - subs are deployed in numbers and the navy is better at putting them in the right places

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.2
			surface_detection = 0.1
			max_strength = 0.2
		}
		mdg_midget_submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.2
			surface_detection = 0.1
			max_strength = 0.2
		}
		path = {
			leads_to_tech = combined_operations_raiding
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 8 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = GER
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	combined_operations_raiding = {
		#top raiding idea - subs and surface raiders act in harmony to destroy convoys
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_midget_submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_auxiliary = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}
		light_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}

		heavy_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}

		battle_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}
		
		path = {
			leads_to_tech = new_doctrine
			research_cost_coeff = 0.5
		}
		
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
				}
				set_technology = {
					new_doctrine = 1
				}
			}
		}
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 10 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = GER
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			cruiser = 1.5
			submarine = 1.0
		}
	}

	raider_patrols = {
		#Surface raiding Branch + some boosts for Battleships

		# EFFECT ##############
		light_cruiser = {
			max_organisation = 10
			surface_visibility = -0.10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}

		heavy_cruiser = {
			max_organisation = 10
			surface_visibility = -0.10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}
		mdg_auxiliary = {
			max_organisation = 10
			surface_visibility = -0.05
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}
		#######


		path = {
			leads_to_tech = capital_ship_raiders
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 2 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			cruiser = 1.5
			battleship = 1.0
		}
	}

	capital_ship_raiders = {
		#Battleships/Battlecrusiers are used as raiders rather than in the line of battle in a fleet

		# EFFECT ##############
		battle_cruiser = {
			max_organisation = 20
			surface_visibility = -0.20
			convoy_raiding_coordination = 0.15
			surface_detection = 0.15
		}

		battleship = {
			max_organisation = 20
			surface_visibility = -0.25
			convoy_raiding_coordination = 0.5
			surface_detection = 0.25
		}

		naval_enemy_fleet_size_ratio_penalty_factor = 0.1
		#######

		path = {
			leads_to_tech = battlefleet_concentration_ti
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 4 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			cruiser = 1.0
		}
	}

	battlefleet_concentration_ti = {

		#same as battlefleet_concentration
		# EFFECT #############
		battleship = {
			max_organisation = 10
		}
		battle_cruiser = {
			max_organisation = 10
		}
		heavy_cruiser = {
			max_organisation = 10
		}
		strike_force_movement_org_loss = -0.2
		########

		path = {
			leads_to_tech = floating_fortress_ti
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y =6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 2.0
		}
	}

	floating_fortress_ti = {

		#same as floating_fortress
		# EFFECT #############
		battleship = {
			max_organisation = 20
		}
		navy_capital_ship_defence_factor = 0.10
		########

		path = {
			leads_to_tech = floating_airfield_ti
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 2.0
		}
	}

	floating_airfield_ti = {

		#same as floating_airfield
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.2
		########

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 7 y = 10 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	carrier_operations = {
		# Carrier/Convoy defense branch - not great at either of them, should have worse CVs than Fleet in Being

		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		########

		path = {
			leads_to_tech = convoy_sailing_ti
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 2 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_navy_size = {
					type = carrier
					size < 1
				}
				factor = 0
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	convoy_sailing_ti = {

		#same as convoy_sailing
		# EFFECT #############
		mdg_boat = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		convoy_escort_efficiency = 0.05
		#####

		path = {
			leads_to_tech = subsidiary_carrier_role_ti
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			convoy_defense_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 4 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.0
		}
	}

	subsidiary_carrier_role_ti = {

		#same as subsidiary_carrier_role
		# EFFECT #############
		carrier = {
			max_organisation = 10
		}
		sortie_efficiency = 0.1
		########

		path = {
			leads_to_tech = naval_air_operations
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 6 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	naval_air_operations = {
		# slightly improved CV operation

		# EFFECT #############
		carrier = {
			max_organisation = 10
		}
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		########

		path = {
			leads_to_tech = floating_airfield_ti
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 8 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	base_strike = {
		doctrine_name = "TITLE_BASE_STRIKE"
		#This tree is primarily focused on Carriers. It should have the best Carriers, Battleships that are better than Trade interdiction but worse than Fleet in being, and has the same Sub tree as FiB. Convoy defense is better than TI but worse than FiB

		xp_research_type = navy

		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		port_strike = 0.5
		#####

		xor = { fleet_in_being trade_interdiction small_fleet }

		path = {
			leads_to_tech = carrier_primacy
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = submarine_operations_bs
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech =  convoy_escorts_bs
			research_cost_coeff = 1
		}
		
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 0 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 2.5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	carrier_primacy = {
		#The idea that the carrier is the primary naval weapon and that other ships, even the BB, exist to support them
		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.1

		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		#############

		path = {
			leads_to_tech = carrier_task_forces
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 2 }
		}

		ai_will_do = {
			factor = 1.25

			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 2.5
			}
			modifier = {
				OR = {
					has_war_with = JAP
					has_war_with = USA
				}
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.5
			naval_air = 1.0
		}
	}

	carrier_task_forces = {
		#Task forces are based around carrier flagship
		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		light_cruiser = {
			max_organisation = 20
		}
		mdg_auxiliary = {
			max_organisation = 10
		}
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		##########

		path = {
			leads_to_tech = floating_airfield_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 4 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 2.5
			}
			modifier = {
				OR = {
					has_war_with = JAP
					has_war_with = USA
				}
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.0
			naval_air = 0.75
			cruiser = 1.0
		}
	}

	floating_airfield_bs = {

		#same as floating_airfield
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.2
		########

		path = {
			leads_to_tech = massed_strikes
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 6 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 2.5
			}
			modifier = {
				OR = {
					has_war_with = JAP
					has_war_with = USA
				}
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 4
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	massed_strikes = {
		#CAGs are larger and more effort is made to have all planes arrive at the target at the same time, even when launched from multiple CVs
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		carrier_capacity_penalty_reduction = -0.2
		sortie_efficiency = 0.2

		modifier = {
			naval_strike_targetting_factor = 0.2
		}
		########

		path = {
			leads_to_tech = floating_fortress_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}


		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 8 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 2.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
			modifier = {
				OR = {
					has_war_with = JAP
					has_war_with = USA
				}
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 4
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	floating_fortress_bs = {

		#same as floating_fortress
		# EFFECT #############
		battleship = {
			max_organisation = 20
		}
		navy_capital_ship_defence_factor = 0.10
		########

		path = {
			leads_to_tech = carrier_battlegroups
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 10 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 4
			}
			modifier = {
				OR = {
					has_war_with = JAP
					has_war_with = USA
				}
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 2.0
		}
	}

	carrier_battlegroups = {
		#Larger carrier-lead fleets

		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		light_cruiser = {
			max_organisation = 20
		}
		mdg_auxiliary = {
			max_organisation = 10
		}
		navy_carrier_air_agility_factor = 0.10

		###########
		path = {
			leads_to_tech = new_doctrine
			research_cost_coeff = 0.5
		}
		
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 12 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				OR = {
					tag = USA
					tag = JAP
				}
				factor = 2.5
			}
			modifier = {
				OR = {
					has_war_with = JAP
					has_war_with = USA
				}
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
			modifier = {
				has_navy_experience > 120
				factor = 4
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.5
			naval_air = 0.75
			naval_equipment = 1.0
		}
	}

	submarine_operations_bs = {

		# same as submarine_operations
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.05
		#######

		path = {
			leads_to_tech = undersea_blockade_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 2 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	undersea_blockade_bs = {

		# same as undersea_blockade
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######

		path = {
			leads_to_tech = convoy_interdiction_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 4 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	convoy_interdiction_bs = {

		# same as convoy_interdiction
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.10
		#######

		path = {
			leads_to_tech = submarine_offensive_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	submarine_offensive_bs = {
		# same as submarine_offensive
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.10
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.10
		}
		#######

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	convoy_escorts_bs = {

		#same as convoy_escorts
		# EFFECT #############
		mdg_boat = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		convoy_escort_efficiency = 0.1
		#####

		path = {
			leads_to_tech = escort_patrols
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 2 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.0
		}
	}

	escort_patrols = {
		# Lesser version of hunter-killer groups

		# EFFECT ##############
		mdg_boat = {
			max_organisation = 10
		}
		mdg_hydrofoil = {
			max_organisation = 10
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_auxiliary = {
			max_organisation = 10
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.1
		}

		convoy_escort_efficiency = 0.05


		path = {
			leads_to_tech = convoy_sailing_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 4 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.0
		}
	}

	convoy_sailing_bs = {

		#same as convoy_sailing
		# EFFECT #############
		mdg_boat = {
			max_organisation = 10
		}
		mdg_hydrofoil = {
			max_organisation = 10
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		convoy_escort_efficiency = 0.05
		#####

		path = {
			leads_to_tech = integrated_convoy_defence_bs
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				tag = USA
				factor = 2
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			naval_equipment = 1.0
		}
	}

	integrated_convoy_defence_bs = {

		#same as integrated_convoy_defence
		# EFFECT #############
		mdg_boat = {
			max_organisation = 20
		}
		mdg_hydrofoil = {
			max_organisation = 20
		}
		mdg_corvette = {
			max_organisation = 20
			sub_detection = 0.10
		}
		mdg_frigate = {
			max_organisation = 20
			sub_detection = 0.10
		}
		mdg_auxiliary = {
			max_organisation = 10
		}
		destroyer = {
			max_organisation = 20
			sub_detection = 0.10
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.15
		}
		carrier = {
			sub_detection = 0.25
		}
		convoy_escort_efficiency = 0.1
		#####

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 8 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			naval_equipment = 1.0
			battleship = 1.0
		}
	}
######
	new_doctrine = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		naval_morale_factor  = 0.1

		research_cost = 3
		path = {
			leads_to_tech = fleet_in_being001
			research_cost_coeff = 0.5
		}
		path = {
			leads_to_tech = base_strike001
			research_cost_coeff = 0.5
		}
		path = {
			leads_to_tech = trade_interdiction001
			research_cost_coeff = 0.5
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 15 }
		}
		categories = {
			naval_doctrine
		}

		ai_will_do = {
			factor = 1
#			modifier = {
#				factor = 0
#				date < "1950.1.1"
#			}
		}
		ai_research_weights = {
			naval_doctrine = -1.0
		}

	}

	fleet_in_being001 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		xor = {trade_interdiction001 base_strike001}
		# EFFECT ##############
		navy_capital_ship_attack_factor = 0.1
		navy_capital_ship_defence_factor = 0.1
		battleship = {
			max_organisation = 20			
		}
		battle_cruiser = {
			max_organisation = 20			
		}
		heavy_cruiser = {
			max_organisation = 20			
		}
		#######
		path = {
			leads_to_tech = fleet_in_being011
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = fleet_in_being021
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = fleet_in_being031
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 18 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			cruiser = 1.0
		}
	}
	
	fleet_in_being011 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_capital_ship_attack_factor = 0.1
		battleship = {
			max_organisation = 10
		}
		battle_cruiser = {
			max_organisation = 10
		}
		heavy_cruiser = {
			max_organisation = 10
		}		
		strike_force_movement_org_loss = -0.2
		#######
		path = {
			leads_to_tech = fleet_in_being012
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			cruiser = 1.0
		}
	}

	fleet_in_being012 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		carrier = {
			max_organisation = 10			
		}
		sortie_efficiency = 0.1
		#######
		path = {
			leads_to_tech = fleet_in_being013
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.5
			naval_air = 0.75
		}
	}

	fleet_in_being013 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_anti_air_attack_factor = 0.20
		#######
		path = {
			leads_to_tech = fleet_in_being014
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	fleet_in_being014 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_capital_ship_attack_factor = 0.1
		navy_screen_attack_factor = 0.1
		naval_hit_chance = 0.1
		#######
		path = {
			leads_to_tech = fleet_in_being015
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	fleet_in_being015 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		naval_detection = 0.1
		naval_hit_chance = 0.1
		#######
		path = {
			leads_to_tech = fleet_in_being016
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 28 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	fleet_in_being016 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_capital_ship_defence_factor = 0.1
		battleship = {
			max_organisation = 10
		}
		battle_cruiser = {
			max_organisation = 10
		}
		heavy_cruiser = {
			max_organisation = 10
		}		
		strike_force_movement_org_loss = -0.2
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 30 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			battleship = 1.0
			cruiser = 1.0
		}
	}

	fleet_in_being021 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		sortie_efficiency = 0.2
		#######
		path = {
			leads_to_tech = fleet_in_being022
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	fleet_in_being022 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.1
		}
		#######
		path = {
			leads_to_tech = fleet_in_being023
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	fleet_in_being023 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			patrol_coordination = 0.2
		}
		light_cruiser = {
			max_organisation = 10
			patrol_coordination = 0.2
		}
		#######
		path = {
			leads_to_tech = fleet_in_being024
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	fleet_in_being024 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			sub_detection = 0.2
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.2
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
			
		}
	}

	fleet_in_being031 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			surface_detection = 0.2
		}
		#######
		path = {
			leads_to_tech = fleet_in_being032
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	fleet_in_being032 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			sub_visibility = -0.25
			surface_visibility = -0.25
		}
		#######
		path = {
			leads_to_tech = fleet_in_being033
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	fleet_in_being033 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.2
		}
		#######
		path = {
			leads_to_tech = fleet_in_being034
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	fleet_in_being034 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			sub_visibility = -0.25
			surface_visibility = -0.25
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction001 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		xor = {base_strike001 fleet_in_being001 }
		# EFFECT ##############
		destroyer = {
			max_organisation = 10
			surface_detection = 0.1	
		}
		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.1			
		}
		heavy_cruiser = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######
		path = {
			leads_to_tech = trade_interdiction011
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = trade_interdiction021
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = trade_interdiction031
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 18 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
			cruiser = 1.0
		}
	}

	trade_interdiction011 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		naval_detection = 0.1
		naval_hit_chance = 0.1
		#######
		path = {
			leads_to_tech = trade_interdiction012
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	trade_interdiction012 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_anti_air_attack_factor = 0.20
		#######
		path = {
			leads_to_tech = trade_interdiction013
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	trade_interdiction013 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_capital_ship_attack_factor = 0.1
		navy_screen_attack_factor = 0.1
		naval_hit_chance = 0.1
		#######
		path = {
			leads_to_tech = trade_interdiction014
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	trade_interdiction014 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.1
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 6 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	trade_interdiction021 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		carrier = {
			supply_consumption = -0.1
		}
		battleship = {
			supply_consumption = -0.1
		}
		battle_cruiser = {
			supply_consumption = -0.1
		}
		heavy_cruiser = {
			supply_consumption = -0.1
		}
		light_cruiser = {
			supply_consumption = -0.1
		}
		destroyer = {
			supply_consumption = -0.1
		}
		submarine = {
			supply_consumption = -0.1
		}
		#######
		path = {
			leads_to_tech = trade_interdiction022
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	trade_interdiction022 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_screen_attack_factor = 0.2
		navy_screen_defence_factor = 0.2
		light_cruiser = {
			max_organisation = 10
			torpedo_attack = 0.2
		}
		destroyer = {
			max_organisation = 10
			torpedo_attack = 0.2
		}
		#######
		path = {
			leads_to_tech = trade_interdiction023
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	trade_interdiction023 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_screen_attack_factor = 0.1
		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.25
		}
		destroyer = {
			max_organisation = 10
			surface_detection = 0.25
		}
		strike_force_movement_org_loss = -0.1
		#######
		path = {
			leads_to_tech = trade_interdiction024
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	trade_interdiction024 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			patrol_coordination = 0.2
		}
		light_cruiser = {
			max_organisation = 10
			patrol_coordination = 0.2
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 8 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	trade_interdiction031 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			convoy_raiding_coordination = 0.2
		}
		#######
		path = {
			leads_to_tech = trade_interdiction032
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction032 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######
		path = {
			leads_to_tech = trade_interdiction033
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction033 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		submarine = {
#			evasion = 0.2
			max_strength = 0.2
		}
		#######
		path = {
			leads_to_tech = trade_interdiction034
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction034 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			sub_visibility = -0.25
			surface_visibility = -0.25
		}
		#######
		path = {
			leads_to_tech = trade_interdiction035
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction035 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.2
		}
		#######
		path = {
			leads_to_tech = trade_interdiction036
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 28 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	trade_interdiction036 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			sub_visibility = -0.25
			surface_visibility = -0.25
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 10 y = 30 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	base_strike001 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		xor = {fleet_in_being001 trade_interdiction001}
		# EFFECT ##############
		carrier = {
			max_organisation = 10
			surface_detection = 0.1	
		}
		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.1			
		}
		heavy_cruiser = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######
		path = {
			leads_to_tech = base_strike011
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = base_strike021
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = base_strike031
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 18 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.0
			naval_air = 0.75
			cruiser = 1.0
		}
	}
	
	base_strike011 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.1
		}
		#######
		path = {
			leads_to_tech = base_strike012
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	base_strike012 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_anti_air_attack_factor = 0.20
		#######
		path = {
			leads_to_tech = base_strike013
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	base_strike013 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		destroyer = {
			max_organisation = 10
			patrol_coordination = 0.2
		}
		light_cruiser = {
			max_organisation = 10
			patrol_coordination = 0.2
		}
		#######
		path = {
			leads_to_tech = base_strike014
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	base_strike014 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_screen_attack_factor = 0.1
		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.25
		}
		destroyer = {
			max_organisation = 10
			surface_detection = 0.25
		}
		strike_force_movement_org_loss = -0.1
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 14 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			destroyer = 1.0
		}
	}

	base_strike021 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			surface_detection = 0.2
		}
		#######
		path = {
			leads_to_tech = base_strike022
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	base_strike022 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			sub_visibility = -0.25
			surface_visibility = -0.25
		}
		#######
		path = {
			leads_to_tech = base_strike023
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	base_strike023 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.2
		}
		#######
		path = {
			leads_to_tech = base_strike024
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	base_strike024 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_submarine_attack_factor = 0.1
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			sub_visibility = -0.25
			surface_visibility = -0.25
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			submarine_doctrine
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 16 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	base_strike031 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_carrier_air_agility_factor = 0.10
		sortie_efficiency = 0.2
		carrier = {
			max_organisation = 20			
		}
		#######
		path = {
			leads_to_tech = base_strike032
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 20 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.5
			naval_air = 0.75
		}
	}

	base_strike032 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		convoy_escort_efficiency = 0.1
		sortie_efficiency = 0.2
		#######
		path = {
			leads_to_tech = base_strike033
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 22 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			naval_air = 0.75
		}
	}

	base_strike033 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		navy_capital_ship_attack_factor = 0.1
		navy_screen_attack_factor = 0.1
		naval_hit_chance = 0.1
		#######
		path = {
			leads_to_tech = base_strike034
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 24 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
		}
	}

	base_strike034 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		sortie_efficiency = 0.2
		carrier = {
			max_organisation = 20			
		}
		category_cv = {
			air_ground_attack = 0.1
		}
		#######
		path = {
			leads_to_tech = base_strike035
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 26 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.5
			naval_air = 0.75
		}
	}

	base_strike035 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		sortie_efficiency = 0.1
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		carrier = {
			max_organisation = 20			
		}
		#######
		path = {
			leads_to_tech = base_strike036
			research_cost_coeff = 1
		}
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 28 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.5
			naval_air = 0.75
		}
	}

	base_strike036 = {
		xp_research_type = navy
		xp_unlock_cost = 100
		

		# EFFECT ##############
		sortie_efficiency = 0.1
		modifier = {
			naval_strike_targetting_factor = 0.2
		}
		carrier = {
			max_organisation = 20			
		}
		#######
	
		doctrine = yes	
		research_cost = 3
		
		categories = {
			naval_doctrine
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 18 y = 30 }
		}
		
		ai_will_do = {
			factor = 0.5
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 1.5
			naval_air = 0.75
		}
	}













	small_fleet = {
		doctrine_name = "TITLE_SMALL_FLEET"

		xp_research_type = navy

		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_boat = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_corvette = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_auxiliary = {
			max_organisation = 10
			surface_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			surface_detection = 0.05
		}
		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.05
		}
		heavy_cruiser = {
			max_organisation = 10
			surface_detection = 0.05
		}
		refit_speed = 0.1
		navy_visibility = -0.03
		naval_retreat_speed = 0.2
		naval_mines_damage_factor = 1
		mines_planting_by_fleets_factor = 0.2
		naval_torpedo_hit_chance_factor = 0.05

		xor = { fleet_in_being trade_interdiction base_strike }

		path = {
			leads_to_tech = torpedo_boat_operations_sm
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = convoy_sailing_sm
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = submarine_operations_sm
			research_cost_coeff = 1
		}
		# on_research_complete = {
		# 	if = {
		# 		limit = { has_dlc = "Gotterdammerung"}
		# 		custom_effect_tooltip = {
		# 			localization_key = SP_UNLOCK_PROJECT
		# 			PROJECT = sp_naval_underway_replenishment
		# 		}
		# 	}
		# }
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			small_fleet_doctrine
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 0 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				num_of_naval_factories < 10
				factor = 3
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 1.0
			mdg_midget_submarine = 1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
			mdg_corvette = 1.0
			mdg_frigate = 1.0
			destroyer = 1.0
			cruiser = 1.0
			naval_equipment = 1.0
		}
	}

	# Convoy escort. Middle branch
	convoy_sailing_sm = {

		mdg_boat = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}

		convoy_escort_efficiency = 0.05

		path = {
			leads_to_tech = convoy_escorts_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			cat_small_fleet
			convoy_defense_tree
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 2 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
			mdg_corvette = 1.0
			mdg_frigate = 1.0
			destroyer = 1.0
			naval_equipment = 1.0
		}
	}

	convoy_escorts_sm = {
		#Assigning dedicated convoy escorts to keep them safe

		# EFFECT #############
		mdg_boat = {
			max_organisation = 10
		}
		mdg_hydrofoil = {
			max_organisation = 10
		}
		mdg_corvette = {
			max_organisation = 10
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 10
			sub_detection = 0.05
		}
		destroyer = {
			max_organisation = 10
			sub_detection = 0.05
		}
		convoy_escort_efficiency = 0.1
		#####

		path = {
			leads_to_tech = escort_patrols_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			convoy_defense_tree
			small_fleet_tree
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 4 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
			mdg_corvette = 1.0
			mdg_frigate = 1.0
			destroyer = 1.0
			naval_equipment = 1.0
		}
	}

	escort_patrols_sm = {
		# Lesser version of hunter-killer groups

		# EFFECT ##############
		mdg_boat = {
			max_organisation = 15
		}
		mdg_hydrofoil = {
			max_organisation = 15
		}
		mdg_corvette = {
			max_organisation = 15
			sub_detection = 0.05
		}
		mdg_frigate = {
			max_organisation = 15
			sub_detection = 0.05
		}
		mdg_auxiliary = {
			max_organisation = 15
		}
		destroyer = {
			max_organisation = 15
			sub_detection = 0.05
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.1
		}

		convoy_escort_efficiency = 0.05

		path = {
			leads_to_tech = floating_airfield_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			convoy_defense_tree
			small_fleet_tree
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
			mdg_corvette = 1.0
			mdg_frigate = 1.0
			destroyer = 1.0
			cruiser = 1.0
			naval_equipment = 1.0
		}
	}

	floating_airfield_sm = {

		#same as floating_airfield
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.2
		########

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		path = {
			leads_to_tech = combined_operations_sm
			research_cost_coeff = 1
		}

		categories = {
			naval_doctrine
			convoy_defense_tree
			small_fleet_tree
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			carrier = 2.0
			naval_air = 0.75
		}
	}

	# Submarines. Right branch
	submarine_operations_sm = {

		# same as submarine_operations
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.05
		#######

		path = {
			leads_to_tech = undersea_blockade_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			submarine_doctrine
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 2 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 1.0
			mdg_midget_submarine = 1.0
		}
	}

	undersea_blockade_sm = {

		# same as undersea_blockade
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}

		path = {
			leads_to_tech = convoy_interdiction_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			submarine_doctrine
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 4 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 1.0
			mdg_midget_submarine = 1.0
		}
	}

	convoy_interdiction_sm = {
		# Sub boost
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.10

		path = {
			leads_to_tech = submarine_offensive_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			submarine_doctrine
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 2.0
		}
	}

	submarine_offensive_sm = {
		# same as submarine_offensive
		submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.10
		}
		mdg_midget_submarine = {
			max_organisation = 10
			surface_detection = 0.05
			convoy_raiding_coordination = 0.10
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		path = {
			leads_to_tech = combined_operations_sm
			research_cost_coeff = 1
		}

		categories = {
			naval_doctrine
			small_fleet_tree
			submarine_doctrine
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			submarine = 1.0
			mdg_midget_submarine = 1.0
		}
	}

	# Torpedo boats etc. Left branch
	torpedo_boat_operations_sm = {
		mdg_boat = {
			max_organisation = 10
			surface_detection = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 10
			surface_detection = 0.05
		}
		path = {
			leads_to_tech = raider_patrols_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			surface_ships_sm
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 2 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
		}
	}

	raider_patrols_sm = {
		light_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}
		heavy_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}
		mdg_auxiliary = {
			max_organisation = 10
			convoy_raiding_coordination = 0.15
			surface_detection = 0.10
		}

		path = {
			leads_to_tech = patrol_and_ambush_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			surface_ships_sm
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 4 }
		}

		ai_will_do = {
			factor = 1
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			cruiser = 1.5
			battleship = 1.0
		}
	}

	patrol_and_ambush_sm = {
		mdg_boat = {
			max_organisation = 15
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 15
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		path = {
			leads_to_tech = mosquitos_sm
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		categories = {
			naval_doctrine
			small_fleet_tree
			surface_ships_sm
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 6 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_boat = 2.0
			mdg_hydrofoil = 2.0
		}
	}

	mosquitos_sm = {
		mdg_boat = {
			max_organisation = 15
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		mdg_hydrofoil = {
			max_organisation = 15
			surface_detection = 0.05
			convoy_raiding_coordination = 0.05
		}
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		path = {
			leads_to_tech = combined_operations_sm
			research_cost_coeff = 1
		}

		categories = {
			naval_doctrine
			small_fleet_tree
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
		}
	}

	# Tops. Middle branch
	combined_operations_sm = {
		#top raiding idea - subs and surface raiders act in harmony to destroy convoys
		mdg_midget_submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_boat = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_hydrofoil = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_corvette = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_frigate = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		mdg_auxiliary = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}
		destroyer = {
			max_organisation = 10
			convoy_raiding_coordination = 0.05
			surface_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}
		heavy_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}
		battle_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.35
			surface_detection = 0.15
		}
		naval_speed_factor = 0.1
		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3

		path = {
			leads_to_tech = battlefleet_concentration_sm
			research_cost_coeff = 1
		}

		categories = {
			naval_doctrine
			small_fleet_tree
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 10 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				has_war = yes
				factor = 5
			}
			modifier = {
				has_navy_experience > 120
				factor = 2
			}
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}

		ai_research_weights = {
			naval_doctrine = -1.0
			mdg_midget_submarine = 1.0
			submarine = 1.0
			mdg_boat = 1.0
			mdg_hydrofoil = 1.0
			mdg_corvette = 1.0
			mdg_frigate = 1.0
			destroyer = 1.0
			cruiser = 1.5
			battlecruiser = 1.0
		}
	}

	battlefleet_concentration_sm = {
		# same as battlefleet_concentration
		battleship = {
			max_organisation = 10
		}
		battle_cruiser = {
			max_organisation = 10
		}
		heavy_cruiser = {
			max_organisation = 10
		}
		strike_force_movement_org_loss = -0.2

		xp_research_type = navy
		xp_unlock_cost = 100
		doctrine = yes
		research_cost = 3
		
		path = {
			leads_to_tech = new_doctrine
			research_cost_coeff = 0.5
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
				}
				set_technology = {
					new_doctrine = 1
				}
			}
		}
		
		categories = {
			naval_doctrine
			small_fleet_tree
			cat_small_fleet
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 12 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				not = { ai_air_doctrine_tier_1_trigger = yes }
				factor = 0.5
			}
			modifier = {
				not = { ai_air_doctrine_tier_2_trigger = yes }
				factor = 0.75
			}
		}
		
		ai_research_weights = {
			naval_doctrine = -1.0
			battlecruiser = 1.0
		}
	}
}
